<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½æŒ‡ä»¤æ¡† - EntropyZero</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 1000;
        }
        
        .command-palette {
            position: relative;
            width: 600px;
            max-width: 90vw;
            background: #1a1a1a;
            border: 1px solid #3a3a3a;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            z-index: 1001;
        }
        
        .command-input-container {
            padding: 1.5rem;
            border-bottom: 1px solid #2a2a2a;
        }
        
        .command-input {
            width: 100%;
            background: transparent;
            border: none;
            outline: none;
            color: #ffffff;
            font-size: 1.2rem;
            font-weight: 500;
        }
        
        .command-input::placeholder {
            color: #6b7280;
        }
        
        .command-suggestions {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .suggestion-group {
            padding: 0.5rem 0;
        }
        
        .suggestion-group-title {
            padding: 0.5rem 1.5rem;
            color: #6b7280;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }
        
        .suggestion-item {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            transition: background 0.15s ease;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .suggestion-item:hover,
        .suggestion-item.selected {
            background: rgba(59, 130, 246, 0.1);
        }
        
        .suggestion-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }
        
        .suggestion-content {
            flex: 1;
        }
        
        .suggestion-title {
            font-weight: 500;
            margin-bottom: 0.2rem;
        }
        
        .suggestion-description {
            color: #6b7280;
            font-size: 0.8rem;
        }
        
        .suggestion-shortcut {
            color: #6b7280;
            font-size: 0.8rem;
            background: #2a2a2a;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: monospace;
        }
        
        .command-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid #2a2a2a;
            background: #151515;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .footer-shortcuts {
            display: flex;
            gap: 1rem;
            font-size: 0.8rem;
            color: #6b7280;
        }
        
        .footer-shortcut {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .key {
            background: #2a2a2a;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: monospace;
            font-size: 0.7rem;
        }
        
        .ai-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #8b5cf6;
            font-size: 0.8rem;
        }
        
        .ai-pulse {
            width: 8px;
            height: 8px;
            background: #8b5cf6;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        .highlight {
            background: rgba(59, 130, 246, 0.3);
            color: #60a5fa;
            padding: 0.1rem 0.2rem;
            border-radius: 3px;
        }
        
        /* æ»šåŠ¨æ¡æ ·å¼ */
        .command-suggestions::-webkit-scrollbar {
            width: 6px;
        }
        
        .command-suggestions::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .command-suggestions::-webkit-scrollbar-thumb {
            background: #3a3a3a;
            border-radius: 3px;
        }
        
        .command-suggestions::-webkit-scrollbar-thumb:hover {
            background: #4a4a4a;
        }
    </style>
</head>
<body>
    <div class="backdrop"></div>
    
    <div class="command-palette">
        <div class="command-input-container">
            <input 
                type="text" 
                class="command-input" 
                placeholder="è¾“å…¥æŒ‡ä»¤æˆ–æœç´¢ä»»åŠ¡..."
                id="commandInput"
                autocomplete="off"
            >
        </div>
        
        <div class="command-suggestions" id="suggestions">
            <div class="suggestion-group">
                <div class="suggestion-group-title">å¿«é€Ÿæ“ä½œ</div>
                <div class="suggestion-item selected">
                    <div class="suggestion-icon">â•</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">åˆ›å»ºæ–°ä»»åŠ¡</div>
                        <div class="suggestion-description">åœ¨å½“å‰ä½ç½®åˆ›å»ºä¸€ä¸ªæ–°çš„ä»»åŠ¡èŠ‚ç‚¹</div>
                    </div>
                    <div class="suggestion-shortcut">âŒ˜N</div>
                </div>
                <div class="suggestion-item">
                    <div class="suggestion-icon">ğŸ”</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">æœç´¢ä»»åŠ¡</div>
                        <div class="suggestion-description">åœ¨æ‰€æœ‰é¡¹ç›®ä¸­æœç´¢ä»»åŠ¡</div>
                    </div>
                    <div class="suggestion-shortcut">âŒ˜F</div>
                </div>
                <div class="suggestion-item">
                    <div class="suggestion-icon">ğŸ”—</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">è¿æ¥ä»»åŠ¡</div>
                        <div class="suggestion-description">åœ¨é€‰ä¸­çš„ä»»åŠ¡ä¹‹é—´åˆ›å»ºä¾èµ–å…³ç³»</div>
                    </div>
                    <div class="suggestion-shortcut">âŒ˜L</div>
                </div>
            </div>
            
            <div class="suggestion-group">
                <div class="suggestion-group-title">AI åŠ©æ‰‹</div>
                <div class="suggestion-item">
                    <div class="suggestion-icon">ğŸ¤–</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">æ™ºèƒ½ä»»åŠ¡æ‹†è§£</div>
                        <div class="suggestion-description">è®© AI å¸®ä½ å°†å¤æ‚ä»»åŠ¡æ‹†è§£æˆå­ä»»åŠ¡</div>
                    </div>
                </div>
                <div class="suggestion-item">
                    <div class="suggestion-icon">ğŸ“Š</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">é¡¹ç›®è§„åˆ’åŠ©æ‰‹</div>
                        <div class="suggestion-description">åŸºäºé¡¹ç›®æè¿°ç”Ÿæˆå®Œæ•´çš„ä»»åŠ¡è®¡åˆ’</div>
                    </div>
                </div>
                <div class="suggestion-item">
                    <div class="suggestion-icon">ğŸ¯</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">ä¼˜å…ˆçº§å»ºè®®</div>
                        <div class="suggestion-description">AI åˆ†æä»»åŠ¡é‡è¦æ€§å¹¶ç»™å‡ºä¼˜å…ˆçº§å»ºè®®</div>
                    </div>
                </div>
            </div>
            
            <div class="suggestion-group">
                <div class="suggestion-group-title">æœ€è¿‘ä»»åŠ¡</div>
                <div class="suggestion-item">
                    <div class="suggestion-icon">ğŸ“</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">å®Œæˆ UI/UX è®¾è®¡æ–‡æ¡£</div>
                        <div class="suggestion-description">ç¼–å†™è¯¦ç»†çš„ç•Œé¢è®¾è®¡è§„èŒƒ...</div>
                    </div>
                </div>
                <div class="suggestion-item">
                    <div class="suggestion-icon">âš™ï¸</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">å®ç°ç”»å¸ƒæ¸²æŸ“å¼•æ“</div>
                        <div class="suggestion-description">åŸºäº Canvas API å®ç°æ— é™ç”»å¸ƒ...</div>
                    </div>
                </div>
                <div class="suggestion-item">
                    <div class="suggestion-icon">ğŸ”§</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">æ­å»ºé¡¹ç›®æ¶æ„</div>
                        <div class="suggestion-description">é…ç½® TypeScriptã€Viteã€pnpm...</div>
                    </div>
                </div>
            </div>
            
            <div class="suggestion-group">
                <div class="suggestion-group-title">å¯¼èˆª</div>
                <div class="suggestion-item">
                    <div class="suggestion-icon">ğŸ </div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">å›åˆ°ä¸»ç”»å¸ƒ</div>
                        <div class="suggestion-description">è¿”å›åˆ°ä¸»è¦çš„ä»»åŠ¡ç”»å¸ƒè§†å›¾</div>
                    </div>
                    <div class="suggestion-shortcut">âŒ˜H</div>
                </div>
                <div class="suggestion-item">
                    <div class="suggestion-icon">âš™ï¸</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">æ‰“å¼€è®¾ç½®</div>
                        <div class="suggestion-description">é…ç½®ä¸»é¢˜ã€å¿«æ·é”®å’ŒåŒæ­¥é€‰é¡¹</div>
                    </div>
                    <div class="suggestion-shortcut">âŒ˜,</div>
                </div>
            </div>
        </div>
        
        <div class="command-footer">
            <div class="footer-shortcuts">
                <div class="footer-shortcut">
                    <span class="key">â†‘â†“</span>
                    <span>å¯¼èˆª</span>
                </div>
                <div class="footer-shortcut">
                    <span class="key">Enter</span>
                    <span>é€‰æ‹©</span>
                </div>
                <div class="footer-shortcut">
                    <span class="key">Esc</span>
                    <span>å…³é—­</span>
                </div>
            </div>
            <div class="ai-indicator">
                <div class="ai-pulse"></div>
                <span>AI åŠ©æ‰‹å·²å°±ç»ª</span>
            </div>
        </div>
    </div>
    
    <script>
        const input = document.getElementById('commandInput');
        const suggestions = document.getElementById('suggestions');
        let selectedIndex = 0;
        
        // æ¨¡æ‹Ÿæœç´¢æ•°æ®
        const searchData = {
            tasks: [
                { title: 'å®Œæˆ UI/UX è®¾è®¡æ–‡æ¡£', description: 'ç¼–å†™è¯¦ç»†çš„ç•Œé¢è®¾è®¡è§„èŒƒ...', icon: 'ğŸ“' },
                { title: 'å®ç°ç”»å¸ƒæ¸²æŸ“å¼•æ“', description: 'åŸºäº Canvas API å®ç°æ— é™ç”»å¸ƒ...', icon: 'âš™ï¸' },
                { title: 'æ­å»ºé¡¹ç›®æ¶æ„', description: 'é…ç½® TypeScriptã€Viteã€pnpm...', icon: 'ğŸ”§' },
                { title: 'é›†æˆ AI åŠ©æ‰‹', description: 'æ¥å…¥ LLM APIï¼Œå®ç°æ™ºèƒ½åŠŸèƒ½...', icon: 'ğŸ¤–' },
                { title: 'ç”¨æˆ·æµ‹è¯•', description: 'æ”¶é›†ç”¨æˆ·åé¦ˆï¼Œä¼˜åŒ–äº¤äº’ä½“éªŒ...', icon: 'ğŸ‘¥' }
            ],
            commands: [
                { title: 'åˆ›å»ºæ–°ä»»åŠ¡', description: 'åœ¨å½“å‰ä½ç½®åˆ›å»ºä¸€ä¸ªæ–°çš„ä»»åŠ¡èŠ‚ç‚¹', icon: 'â•', shortcut: 'âŒ˜N' },
                { title: 'æœç´¢ä»»åŠ¡', description: 'åœ¨æ‰€æœ‰é¡¹ç›®ä¸­æœç´¢ä»»åŠ¡', icon: 'ğŸ”', shortcut: 'âŒ˜F' },
                { title: 'è¿æ¥ä»»åŠ¡', description: 'åœ¨é€‰ä¸­çš„ä»»åŠ¡ä¹‹é—´åˆ›å»ºä¾èµ–å…³ç³»', icon: 'ğŸ”—', shortcut: 'âŒ˜L' },
                { title: 'åˆ é™¤é€‰ä¸­', description: 'åˆ é™¤å½“å‰é€‰ä¸­çš„ä»»åŠ¡æˆ–è¿æ¥', icon: 'ğŸ—‘ï¸', shortcut: 'Del' }
            ]
        };
        
        function highlightText(text, query) {
            if (!query) return text;
            const regex = new RegExp(`(${query})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }
        
        function renderSuggestions(query = '') {
            const filteredTasks = searchData.tasks.filter(task => 
                task.title.toLowerCase().includes(query.toLowerCase()) ||
                task.description.toLowerCase().includes(query.toLowerCase())
            );
            
            const filteredCommands = searchData.commands.filter(cmd => 
                cmd.title.toLowerCase().includes(query.toLowerCase()) ||
                cmd.description.toLowerCase().includes(query.toLowerCase())
            );
            
            let html = '';
            
            if (query && (filteredTasks.length > 0 || filteredCommands.length > 0)) {
                if (filteredCommands.length > 0) {
                    html += '<div class="suggestion-group">';
                    html += '<div class="suggestion-group-title">åŒ¹é…çš„æŒ‡ä»¤</div>';
                    filteredCommands.forEach((cmd, index) => {
                        html += `
                            <div class="suggestion-item ${index === 0 && filteredTasks.length === 0 ? 'selected' : ''}" data-index="${index}">
                                <div class="suggestion-icon">${cmd.icon}</div>
                                <div class="suggestion-content">
                                    <div class="suggestion-title">${highlightText(cmd.title, query)}</div>
                                    <div class="suggestion-description">${highlightText(cmd.description, query)}</div>
                                </div>
                                ${cmd.shortcut ? `<div class="suggestion-shortcut">${cmd.shortcut}</div>` : ''}
                            </div>
                        `;
                    });
                    html += '</div>';
                }
                
                if (filteredTasks.length > 0) {
                    html += '<div class="suggestion-group">';
                    html += '<div class="suggestion-group-title">åŒ¹é…çš„ä»»åŠ¡</div>';
                    filteredTasks.forEach((task, index) => {
                        const globalIndex = filteredCommands.length + index;
                        html += `
                            <div class="suggestion-item ${globalIndex === 0 ? 'selected' : ''}" data-index="${globalIndex}">
                                <div class="suggestion-icon">${task.icon}</div>
                                <div class="suggestion-content">
                                    <div class="suggestion-title">${highlightText(task.title, query)}</div>
                                    <div class="suggestion-description">${highlightText(task.description, query)}</div>
                                </div>
                            </div>
                        `;
                    });
                    html += '</div>';
                }
            } else if (!query) {
                // æ˜¾ç¤ºé»˜è®¤å»ºè®®
                html = suggestions.innerHTML;
                return;
            } else {
                // æ˜¾ç¤º AI å»ºè®®
                html = `
                    <div class="suggestion-group">
                        <div class="suggestion-group-title">AI å»ºè®®</div>
                        <div class="suggestion-item selected">
                            <div class="suggestion-icon">ğŸ¤–</div>
                            <div class="suggestion-content">
                                <div class="suggestion-title">åˆ›å»ºä»»åŠ¡: "${query}"</div>
                                <div class="suggestion-description">è®© AI å¸®ä½ åˆ›å»ºå¹¶è§„åˆ’è¿™ä¸ªä»»åŠ¡</div>
                            </div>
                        </div>
                        <div class="suggestion-item">
                            <div class="suggestion-icon">ğŸ”</div>
                            <div class="suggestion-content">
                                <div class="suggestion-title">æœç´¢ç›¸å…³ä»»åŠ¡</div>
                                <div class="suggestion-description">åœ¨ç°æœ‰ä»»åŠ¡ä¸­æœç´¢ä¸ "${query}" ç›¸å…³çš„å†…å®¹</div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            suggestions.innerHTML = html;
            selectedIndex = 0;
        }
        
        function updateSelection() {
            const items = suggestions.querySelectorAll('.suggestion-item');
            items.forEach((item, index) => {
                item.classList.toggle('selected', index === selectedIndex);
            });
        }
        
        // è¾“å…¥äº‹ä»¶
        input.addEventListener('input', (e) => {
            renderSuggestions(e.target.value);
        });
        
        // é”®ç›˜å¯¼èˆª
        document.addEventListener('keydown', (e) => {
            const items = suggestions.querySelectorAll('.suggestion-item');
            
            switch (e.key) {
                case 'ArrowDown':
                    e.preventDefault();
                    selectedIndex = Math.min(selectedIndex + 1, items.length - 1);
                    updateSelection();
                    break;
                    
                case 'ArrowUp':
                    e.preventDefault();
                    selectedIndex = Math.max(selectedIndex - 1, 0);
                    updateSelection();
                    break;
                    
                case 'Enter':
                    e.preventDefault();
                    const selectedItem = items[selectedIndex];
                    if (selectedItem) {
                        const title = selectedItem.querySelector('.suggestion-title').textContent;
                        alert(`æ‰§è¡Œ: ${title}`);
                    }
                    break;
                    
                case 'Escape':
                    document.body.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100vh; color: #6b7280;">æŒ‡ä»¤æ¡†å·²å…³é—­ - æŒ‰ Cmd+K é‡æ–°æ‰“å¼€</div>';
                    break;
            }
        });
        
        // é¼ æ ‡ç‚¹å‡»é€‰æ‹©
        suggestions.addEventListener('click', (e) => {
            const item = e.target.closest('.suggestion-item');
            if (item) {
                const title = item.querySelector('.suggestion-title').textContent;
                alert(`æ‰§è¡Œ: ${title}`);
            }
        });
        
        // é¼ æ ‡æ‚¬åœæ›´æ–°é€‰æ‹©
        suggestions.addEventListener('mouseover', (e) => {
            const item = e.target.closest('.suggestion-item');
            if (item) {
                const items = suggestions.querySelectorAll('.suggestion-item');
                items.forEach((el, index) => {
                    if (el === item) {
                        selectedIndex = index;
                        updateSelection();
                    }
                });
            }
        });
        
        // è‡ªåŠ¨èšç„¦è¾“å…¥æ¡†
        input.focus();
        
        // ç‚¹å‡»èƒŒæ™¯å…³é—­
        document.querySelector('.backdrop').addEventListener('click', () => {
            document.body.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100vh; color: #6b7280;">æŒ‡ä»¤æ¡†å·²å…³é—­ - æŒ‰ Cmd+K é‡æ–°æ‰“å¼€</div>';
        });
    </script>
</body>
</html>