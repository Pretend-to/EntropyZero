# EntropyZero UI/UX 设计文档

## 1. 设计理念

### 1.1 核心原则
- **空间优先**: 利用二维空间表达任务关系，摆脱传统列表的线性限制
- **零延迟**: 所有交互都应该有即时反馈，无等待感
- **渐进披露**: 复杂功能通过渐进的方式展现，避免认知负担
- **键盘优先**: 支持全键盘操作，提高效率用户的使用体验

### 1.2 视觉风格
- **极简主义**: 减少视觉噪音，突出内容本身
- **深色主题**: 减少眼部疲劳，适合长时间使用
- **微妙动效**: 使用物理感知的动画增强用户体验
- **高对比度**: 确保可访问性和清晰度

## 2. 信息架构

### 2.1 核心页面结构
```
EntropyZero
├── 主画布 (Canvas View)
│   ├── 无限画布区域
│   ├── 任务节点
│   ├── 连接线
│   └── 浮动工具栏
├── 智能指令框 (Command Palette)
├── 侧边栏 (Sidebar)
│   ├── 项目列表
│   ├── 标签管理
│   └── 设置面板
└── 状态栏 (Status Bar)
```

### 2.2 用户流程
1. **首次使用**: 引导用户创建第一个任务节点
2. **日常使用**: 通过指令框快速创建和管理任务
3. **深度工作**: 在画布上组织复杂的任务关系
4. **回顾总结**: 通过空间布局回顾项目进展

## 3. 界面组件设计

### 3.1 主画布 (Canvas)
**功能**: 任务的空间化展示和交互核心

**设计要点**:
- 无限滚动的网格背景
- 支持缩放 (10% - 500%)
- 平滑的拖拽和惯性滚动
- 视口外的节点淡化显示

**交互模式**:
- 鼠标中键/空格键 + 拖拽: 平移画布
- 滚轮: 缩放
- 双击空白区域: 创建新任务
- 框选: 批量选择任务

### 3.2 任务节点 (Task Node)
**功能**: 单个任务的可视化表示

**视觉层次**:
```
┌─────────────────────────┐
│ [●] 任务标题            │ ← 状态指示器 + 标题
│ ─────────────────────── │
│ 任务描述内容...         │ ← 描述区域 (可折叠)
│                         │
│ #标签1 #标签2          │ ← 标签区域
│ ⏰ 2024-01-15          │ ← 时间信息
└─────────────────────────┘
```

**状态系统**:
- 🔵 待办 (Todo) - 蓝色
- 🟢 进行中 (In Progress) - 绿色  
- 🟡 等待 (Waiting) - 黄色
- ✅ 完成 (Done) - 灰色
- 🔴 阻塞 (Blocked) - 红色

### 3.3 连接线 (Connection Lines)
**功能**: 表示任务间的依赖关系

**视觉设计**:
- 贝塞尔曲线，避免直角
- 箭头指向依赖方向
- 不同类型用不同样式:
  - 实线: 强依赖 (必须完成前置任务)
  - 虚线: 弱依赖 (建议顺序)
  - 点线: 相关任务 (无严格顺序)

### 3.4 智能指令框 (Command Palette)
**功能**: 全键盘驱动的操作入口

**触发方式**:
- `Cmd/Ctrl + K`: 全局指令
- `Cmd/Ctrl + T`: 任务相关指令
- `/`: 快速输入模式

**指令类型**:
```
创建任务: "添加任务: 完成设计文档"
搜索任务: "find: 设计"
AI 辅助: "帮我规划这个项目的任务"
导航: "go to: 项目A"
设置: "设置主题为深色"
```

### 3.5 侧边栏 (Sidebar)
**功能**: 项目管理和导航

**结构**:
```
📁 项目
├── 🎯 当前项目
├── 📋 个人任务  
└── 🗂️ 归档项目

🏷️ 标签
├── #重要
├── #紧急
└── #学习

⚙️ 设置
├── 主题
├── 快捷键
└── 数据同步
```

## 4. 交互设计

### 4.1 手势和快捷键
**画布操作**:
- `Space + 拖拽`: 平移画布
- `滚轮`: 缩放
- `Cmd/Ctrl + 0`: 重置缩放
- `Cmd/Ctrl + 1`: 适应所有内容

**任务操作**:
- `Enter`: 编辑任务
- `Delete`: 删除任务
- `Tab`: 创建子任务
- `Shift + Tab`: 提升任务层级

**选择操作**:
- `Cmd/Ctrl + A`: 全选
- `Cmd/Ctrl + 点击`: 多选
- `Shift + 点击`: 范围选择

### 4.2 拖拽行为
**任务拖拽**:
- 单个任务: 移动位置
- 多个任务: 批量移动
- 拖拽到其他任务: 创建依赖关系
- 拖拽到边缘: 自动滚动画布

**连接线拖拽**:
- 从任务边缘拖出: 创建新连接
- 拖拽现有连接: 修改依赖关系
- 双击连接线: 编辑连接类型

## 5. 响应式设计

### 5.1 桌面端 (>1200px)
- 完整的三栏布局
- 侧边栏常驻显示
- 支持多窗口操作

### 5.2 平板端 (768px - 1200px)
- 可折叠侧边栏
- 触摸优化的控件尺寸
- 手势导航支持

### 5.3 移动端 (<768px)
- 底部导航栏
- 简化的任务节点
- 滑动手势操作

## 6. 可访问性设计

### 6.1 键盘导航
- 所有功能都可通过键盘访问
- 清晰的焦点指示器
- 逻辑的 Tab 顺序

### 6.2 屏幕阅读器支持
- 语义化的 HTML 结构
- 适当的 ARIA 标签
- 描述性的替代文本

### 6.3 视觉辅助
- 高对比度模式
- 可调节的字体大小
- 色盲友好的配色方案

## 7. 性能考虑

### 7.1 渲染优化
- 虚拟化长列表
- Canvas 分层渲染
- 视口外元素的懒加载

### 7.2 交互优化
- 防抖的搜索输入
- 节流的滚动事件
- 预加载关键资源

## 8. 动效设计

### 8.1 微交互
- 按钮悬停: 轻微放大 (scale: 1.05)
- 任务创建: 从小到大的弹性动画
- 状态切换: 颜色渐变过渡

### 8.2 页面转场
- 画布缩放: 平滑的缩放动画
- 侧边栏: 滑入滑出效果
- 模态框: 淡入淡出 + 轻微缩放

### 8.3 反馈动画
- 成功操作: 绿色的勾选动画
- 错误提示: 红色的摇摆动画
- 加载状态: 脉冲式的骨架屏

## 9. 主题系统

### 9.1 深色主题 (默认)
```css
--bg-primary: #0a0a0a
--bg-secondary: #1a1a1a
--bg-tertiary: #2a2a2a
--text-primary: #ffffff
--text-secondary: #a0a0a0
--accent: #3b82f6
--success: #10b981
--warning: #f59e0b
--error: #ef4444
```

### 9.2 浅色主题
```css
--bg-primary: #ffffff
--bg-secondary: #f8fafc
--bg-tertiary: #e2e8f0
--text-primary: #1e293b
--text-secondary: #64748b
--accent: #3b82f6
--success: #059669
--warning: #d97706
--error: #dc2626
```

## 10. 国际化设计 (i18n)

### 10.1 支持语言
**第一阶段**:
- 🇨🇳 简体中文 (zh-CN) - 默认语言
- 🇺🇸 英语 (en-US)
- 🇯🇵 日语 (ja-JP)

**第二阶段**:
- 🇰🇷 韩语 (ko-KR)
- 🇩🇪 德语 (de-DE)
- 🇫🇷 法语 (fr-FR)
- 🇪🇸 西班牙语 (es-ES)

### 10.2 文本处理策略
**静态文本**:
- 界面标签和按钮文字
- 菜单项和导航文本
- 错误提示和系统消息
- 帮助文档和说明文字

**动态文本**:
- 用户创建的任务内容
- 项目名称和描述
- 标签和分类名称
- AI 生成的建议文本

### 10.3 布局适配
**文本长度处理**:
- 德语文本通常比英语长 30-50%
- 中文/日语文本相对紧凑
- 阿拉伯语需要 RTL 支持（未来考虑）

**字体选择**:
```css
/* 多语言字体栈 */
font-family: 
  /* 中文 */ "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  /* 日文 */ "Hiragino Kaku Gothic ProN", "Meiryo",
  /* 西文 */ -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
  /* 后备 */ sans-serif;
```

**界面元素适配**:
- 按钮和输入框支持动态宽度
- 菜单项高度自适应文本
- 工具提示位置智能调整

### 10.4 数据格式本地化
**日期时间**:
- 中文: 2024年1月15日 14:30
- 英文: Jan 15, 2024 2:30 PM
- 日文: 2024年1月15日 14:30

**数字格式**:
- 中文: 1,234.56
- 德文: 1.234,56
- 印度: 1,23,456.78

**相对时间**:
- 中文: 3分钟前、昨天、上周
- 英文: 3 minutes ago、yesterday、last week
- 日文: 3分前、昨日、先週

### 10.5 文化适配
**颜色语义**:
- 红色在中国文化中代表吉祥，在西方代表危险
- 绿色在伊斯兰文化中有特殊意义
- 使用中性的蓝色作为主色调

**图标选择**:
- 避免使用具有文化特定含义的图标
- 优先使用国际通用的符号
- 提供图标的文字说明

**交互习惯**:
- 中文用户习惯更密集的信息布局
- 西方用户偏好更多的留白空间
- 日本用户注重细节和精确性

## 11. 实现优先级

### Phase 1: 核心功能 (MVP)
- [x] 基础画布渲染
- [x] 任务节点创建和编辑
- [x] 简单的拖拽移动
- [x] 基础的指令框
- [ ] 国际化基础架构

### Phase 2: 增强交互
- [ ] 任务连接线
- [ ] 批量操作
- [ ] 搜索和过滤
- [ ] 键盘快捷键
- [ ] 多语言界面切换

### Phase 3: 高级功能
- [ ] AI 智能助手
- [ ] 协作功能
- [ ] 数据同步
- [ ] 插件系统
- [ ] 完整的本地化支持

这份文档将作为开发的指导原则，确保最终产品的用户体验达到预期目标。